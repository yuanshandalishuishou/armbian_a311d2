
# Board configuration for XF.A311D2
BOARD_NAME="XF-A311D2"
BOARDFAMILY="amlogic-a311d"
BOARD_MAINTAINER="yuanshan  XF.A311D2"
BOARD_VENDOR="XF"
BOARD_ARCH="arm64"

# 使用自定义设备树
BOOTCONFIG="khadas-vim4_defconfig"
LINUXFAMILY="amlogic64"
LINUXCONFIG="linux-arm64-edge"
KERNEL_TARGET="edge,current"

# 自定义设备树文件
SRC_EXTLINUX_TARGET="boot/extlinux/extlinux.conf"
SRC_DTB="meson-g12b-a311d-xf-board.dtb"
IMAGE_PARTITION_TABLE="gpt"

# 内存配置 - 根据实际硬件调整
RAMDISK_ADDR="0x08008000"
SKIP_EXTERNAL_TOOLCHAINS="yes"

# 存储配置
BOOTFS_TYPE="fat"
BOOTSIZE="512"
BOOTFS_LABEL="BOOT"
ROOTFS_TYPE="ext4"
ROOTFS_LABEL="ROOTFS"
INITRD_ARCH="arm64"

# 内核配置
KERNEL_IMAGE_TYPE="Image"
ATF_COMPILE="yes"
ATFBRANCH="tag:v2.9.0"
ATFSOURCE="https://github.com/ARM-software/arm-trusted-firmware"
ATFDIR="arm-trusted-firmware"
ATF_TARGET_MAP="PLAT=g12b DEBUG=1 bl31;;build/g12b/release/bl31.bin"

# U-Boot 配置
BOOTSOURCE="https://github.com/khadas/u-boot"
BOOTBRANCH="branch:khadas-vims-v211"
BOOTDIR="u-boot-khadas-vim4"
BOOTPATCHDIR="u-boot-khadas-vim4"
BOOTSCRIPT="boot-aml.cmd:boot.scr"
BOOTENV_FILE="amlogic-default.txt"
UBOOT_TARGET="binaries"
UBOOT_SUFFIX="bin"
UBOOT_DIR="u-boot"

# 串口配置
SERIALCON="ttyAML0"


# Hardware features
CPUMIN="500000"
CPUMAX="2208000"
GOVERNOR="ondemand"

# Display
HAVE_HDMI="yes"
HAVE_SPI_DISPLAY="no"



# Network
WIRELESS_DEVICE="broadcom:brcmfmac"
MODULES="brcmfmac"
MODULES_BLACKLIST=""

# Bluetooth
BLUETOOTH_HCIATTACH_PARAMS="-s 115200 /dev/ttyS1 bcm43xx 1500000"
BLUETOOTH_HCIDEVICE="hci0"

# USB and peripheral support
ENABLE_USB_HOST="yes"
ENABLE_USB_STORAGE="yes"
ENABLE_EXTRA="yes"
